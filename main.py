import base64
exec(base64.b64decode('aW1wb3J0IHRpbWUKaW1wb3J0IHRocmVhZGluZwppbXBvcnQgb3MKaW1wb3J0IHNpZ25hbAppbXBvcnQgc3lzCmZyb20gdHlwaW5nIGltcG9ydCBEaWN0LCBBbnksIE9wdGlvbmFsLCBMaXN0CmZyb20gc2VydmljZXMuaGVscGVyX3NlcnZpY2UgaW1wb3J0IEhlbHBlclNlcnZpY2UKZnJvbSBzZXJ2aWNlcy5kYl9zZXJ2aWNlIGltcG9ydCBEYXRhYmFzZVNlcnZpY2UKZnJvbSBzZXJ2aWNlcy5nb2xpa2Vfc2VydmljZSBpbXBvcnQgR29MaWtlU2VydmljZQpmcm9tIHNlcnZpY2VzLmpvYl9zZXJ2aWNlIGltcG9ydCBKb2JTZXJ2aWNlCmZyb20gc2VydmljZXMubXF0dF9zZXJ2aWNlIGltcG9ydCBNUVRUU2VydmljZQppbXBvcnQgdXRpbHMKZnJvbSB1dGlscyBpbXBvcnQgTG9nTGV2ZWwsIExvZ2dlcgppbXBvcnQgY29uZmlnCgojIFRoaeG6v3QgbOG6rXAgbG9nZ2luZwp1dGlscy5zZXR1cF9kZWZhdWx0X2xvZ2dpbmcoCiAgICBwcm9kdWN0aW9uPW5vdCBjb25maWcuREVCVUdfTU9ERSBpZiBoYXNhdHRyKGNvbmZpZywgJ0RFQlVHX01PREUnKSBlbHNlIEZhbHNlLAogICAgbG9nX3RvX2ZpbGU9VHJ1ZSBpZiBoYXNhdHRyKGNvbmZpZywgJ0xPR19UT19GSUxFJykgYW5kIGNvbmZpZy5MT0dfVE9fRklMRSBlbHNlIEZhbHNlCikKCiMgVOG6oW8gbG9nZ2VyIGNow61uaCBjaG8g4bupbmcgZOG7pW5nCmxvZ2dlciA9IHV0aWxzLmdldF9sb2dnZXIoIk1haW4iKQoKIyBCaeG6v24gdG/DoG4gY+G7pWMgxJHhu4MgbMawdSBzZXJ2aWNlIGluc3RhbmNlcwpkYiA9IE5vbmUKaGVscGVyID0gTm9uZQpnb2xpa2Vfc2VydmljZSA9IE5vbmUKam9iX3NlcnZpY2UgPSBOb25lCm1xdHRfc2VydmljZSA9IE5vbmUKCiMgRmxhZyDEkWnhu4F1IGtoaeG7g24KcnVubmluZyA9IFRydWUKCmRlZiBzaWduYWxfaGFuZGxlcihzaWcsIGZyYW1lKToKICAgICIiIljhu60gbMO9IGtoaSBuZ8aw4budaSBkw7luZyBuaOG6pW4gQ3RybCtDIiIiCiAgICBnbG9iYWwgcnVubmluZywgam9iX3NlcnZpY2UsIG1xdHRfc2VydmljZQogICAgCiAgICBsb2dnZXIuaW5mbygixJBhbmcgZOG7q25nIOG7qW5nIGThu6VuZyAoQ3RybCtDIMSRxrDhu6NjIG5o4bqlbikuLi4iKQogICAgcnVubmluZyA9IEZhbHNlCiAgICAKICAgICMgROG7q25nIGPDoWMgc2VydmljZSBt4buZdCBjw6FjaCBhbiB0b8OgbgogICAgaWYgam9iX3NlcnZpY2U6CiAgICAgICAgbG9nZ2VyLmluZm8oIkThu6tuZyBKb2JTZXJ2aWNlLi4uIikKICAgICAgICBqb2Jfc2VydmljZS5mb3JjZV9zdG9wX2FsbCgpICAjIEThu6tuZyBuZ2F5IGzhuq1wIHThu6ljCiAgICAgICAgCiAgICBpZiBtcXR0X3NlcnZpY2U6CiAgICAgICAgbG9nZ2VyLmluZm8oIk5n4bqvdCBr4bq/dCBu4buRaSBNUVRULi4uIikKICAgICAgICBtcXR0X3NlcnZpY2UuZGlzY29ubmVjdCgpICAjIE5n4bqvdCBr4bq/dCBu4buRaSBNUVRUCiAgICAgICAgCiAgICAjIMSQw7NuZyBr4bq/dCBu4buRaSBkYXRhYmFzZSBu4bq/dSBj4bqnbgogICAgaWYgZGI6CiAgICAgICAgbG9nZ2VyLmluZm8oIsSQw7NuZyBr4bq/dCBu4buRaSBkYXRhYmFzZS4uLiIpCiAgICAgICAgZGIuY2xvc2UoKQogICAgCiAgICBsb2dnZXIuaW5mbygi4buobmcgZOG7pW5nIMSRw6MgZOG7q25nIGFuIHRvw6BuLiBU4bqhbSBiaeG7h3QhIikKICAgIHN5cy5leGl0KDApCgpkZWYgbWFpbigpOgogICAgIiIiSMOgbSBjaMOtbmggY+G7p2Eg4bupbmcgZOG7pW5nIiIiCiAgICBnbG9iYWwgcnVubmluZywgZGIsIGhlbHBlciwgZ29saWtlX3NlcnZpY2UsIGpvYl9zZXJ2aWNlLCBtcXR0X3NlcnZpY2UKICAgIAogICAgdHJ5OgogICAgICAgICMgS+G6v3QgbuG7kWkgQURCCiAgICAgICAgdXRpbHMuY29ubmVjdF9hZGIoY29uZmlnLkFEQl9IT1NULCBjb25maWcuQURCX1BPUlQpCiAgICAgICAgCiAgICAgICAgIyBLaOG7n2kgdOG6oW8gY8OhYyBzZXJ2aWNlCiAgICAgICAgbG9nZ2VyLmluZm8oIkto4bufaSB04bqhbyBjw6FjIHNlcnZpY2UuLi4iKQogICAgICAgIGRiID0gRGF0YWJhc2VTZXJ2aWNlKGRiX3BhdGg9Y29uZmlnLkRCX1BBVEgsIGRlZmF1bHRfY29uZmlnX3BhdGg9Y29uZmlnLkRFRkFVTFRfQ09ORklHX1BBVEgpCiAgICAgICAgaGVscGVyID0gSGVscGVyU2VydmljZShiYXNlX3VybD1jb25maWcuSEVMUEVSX1NFUlZJQ0VfVVJMKQogICAgICAgIGdvbGlrZV9zZXJ2aWNlID0gR29MaWtlU2VydmljZShkYiwgaGVscGVyKQogICAgICAgIAogICAgICAgIGxvZ2dlci5pbmZvKCJLaOG7n2kgxJHhu5luZyDhu6luZyBk4bulbmcgRE5EVmluYS4uLiIpCiAgICAgICAgCiAgICAgICAgIyBWaeG7h2MgxJHhuqd1IHRpw6puOiBM4bqleSBkZXZpY2VfaWQKICAgICAgICBsb2dnZXIuaW5mbygixJBhbmcgbOG6pXkgZGV2aWNlX2lkLi4uIikKICAgICAgICBkZXZpY2VfaWQgPSBkYi5nZXRfb3JfY3JlYXRlX2RldmljZV9pZCgpCiAgICAgICAgbG9nZ2VyLmluZm8oZiJEZXZpY2UgSUQ6IHtkZXZpY2VfaWR9IikKICAgICAgICAKICAgICAgICAjIEto4bufaSB04bqhbyBNUVRUIHNlcnZpY2UKICAgICAgICBtcXR0X3NlcnZpY2UgPSBNUVRUU2VydmljZShkYiwgZGV2aWNlX2lkLCBoZWxwZXIpCiAgICAgICAgCiAgICAgICAgIyBLaOG7n2kgxJHhu5luZyBNUVRUIHNlcnZpY2UgLSBow6BtIG7DoHkgc+G6vSB04buxIGNo4budIGvhur90IG7hu5FpIHRow6BuaCBjw7RuZyB2w6AgxJHEg25nIGvDvSBoYW5kbGVycwogICAgICAgIGxvZ2dlci5pbmZvKCJLaOG7n2kgxJHhu5luZyBNUVRUIHNlcnZpY2UuLi4iKQogICAgICAgIG1xdHRfdGhyZWFkID0gbXF0dF9zZXJ2aWNlLnN0YXJ0KCkKICAgICAgICAKICAgICAgICAjIEto4bufaSDEkeG7mW5nIEpvYlNlcnZpY2UKICAgICAgICBsb2dnZXIuaW5mbygiS2jhu59pIMSR4buZbmcgSm9iU2VydmljZS4uLiIpCiAgICAgICAgam9iX3NlcnZpY2UgPSBKb2JTZXJ2aWNlKGRiLCBoZWxwZXIsIGdvbGlrZV9zZXJ2aWNlKQogICAgICAgIGpvYl90aHJlYWQgPSBqb2Jfc2VydmljZS5zdGFydCgpCiAgICAgICAgCiAgICAgICAgIyBUaMOqbSB2w7JuZyBs4bq3cCBraeG7g20gdHJhIMSR4buDIGThu4UgZMOgbmcgZOG7q25nIOG7qW5nIGThu6VuZwogICAgICAgIGxvZ2dlci5pbmZvKCLhu6huZyBk4bulbmcgxJFhbmcgY2jhuqF5LiBOaOG6pW4gQ3RybCtDIMSR4buDIGThu6tuZy4uLiIpCiAgICAgICAgd2hpbGUgcnVubmluZzoKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgdGltZS5zbGVlcCgxKQogICAgICAgICAgICBleGNlcHQgS2V5Ym9hcmRJbnRlcnJ1cHQ6CiAgICAgICAgICAgICAgICAjIE7hur91IHNpZ25hbF9oYW5kbGVyIGtow7RuZyDEkcaw4bujYyBn4buNaSB2w6wgbMO9IGRvIG7DoG8gxJHDswogICAgICAgICAgICAgICAgc2lnbmFsX2hhbmRsZXIoc2lnbmFsLlNJR0lOVCwgTm9uZSkKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAKICAgIGV4Y2VwdCBLZXlib2FyZEludGVycnVwdDoKICAgICAgICBsb2dnZXIuaW5mbygiTmjhuq1uIHTDrW4gaGnhu4d1IGThu6tuZyB04burIG5nxrDhu51pIGTDuW5nLCDEkWFuZyB0aG/DoXQuLi4iKQogICAgICAgIHNpZ25hbF9oYW5kbGVyKHNpZ25hbC5TSUdJTlQsIE5vbmUpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgbG9nZ2VyLmV4Y2VwdGlvbihlLCAiTOG7l2kga2jDtG5nIHjhu60gbMO9IMSRxrDhu6NjIHRyb25nIGjDoG0gbWFpbiIpCiAgICAgICAgIyDEkOG6o20gYuG6o28gZOG7q25nIGPDoWMgc2VydmljZSB0csaw4bubYyBraGkgdGhvw6F0CiAgICAgICAgc2lnbmFsX2hhbmRsZXIoc2lnbmFsLlNJR0lOVCwgTm9uZSkKICAgICAgICBzeXMuZXhpdCgxKQoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgICMgxJDEg25nIGvDvSBzaWduYWwgaGFuZGxlcgogICAgc2lnbmFsLnNpZ25hbChzaWduYWwuU0lHSU5ULCBzaWduYWxfaGFuZGxlcikKICAgIHNpZ25hbC5zaWduYWwoc2lnbmFsLlNJR1RFUk0sIHNpZ25hbF9oYW5kbGVyKQogICAgCiAgICAjIEto4bufaSBjaOG6oXkgY2jGsMahbmcgdHLDrG5oCiAgICBtYWluKCk=').decode('utf-8'))
