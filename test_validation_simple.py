import base64
exec(base64.b64decode('IiIiClRlc3QgdmFsaWRhdGlvbiBsb2dpYyBmb3IgZm9sbG93IGpvYnMgLSBzaW1wbGUgdmVyc2lvbgoiIiIKaW1wb3J0IHRpbWUKCmRlZiB0ZXN0X2ZvbGxvd192YWxpZGF0aW9uX2xvZ2ljKCk6CiAgICAiIiJUZXN0IHZhbGlkYXRpb24gbG9naWMgY2hvIGZvbGxvdyBqb2JzIiIiCiAgICAKICAgICMgU2ltdWxhdGUgdmFsaWRhdGlvbiBsb2dpYyB04burIEpvYlNlcnZpY2UKICAgIGRlZiB2YWxpZGF0ZV9mb2xsb3dfam9iKGFjY291bnQsIGpvYik6CiAgICAgICAgdXNlcm5hbWUgPSBhY2NvdW50LmdldCgidW5pcXVlX3VzZXJuYW1lIiwgZiJJRF97YWNjb3VudFsnaWQnXX0iKQogICAgICAgIAogICAgICAgICMgS2nhu4NtIHRyYSBqb2JfZW5hYmxlCiAgICAgICAgaWYgbm90IGFjY291bnQuZ2V0KCJqb2JfZW5hYmxlIiwgRmFsc2UpOgogICAgICAgICAgICByZXR1cm4gRmFsc2UsIGYiSm9iIGLhu4sgdOG6r3QgY2hvIHt1c2VybmFtZX0iCiAgICAgICAgCiAgICAgICAgIyBLaeG7g20gdHJhIGRpc2FibGVfZm9sbG93CiAgICAgICAgZGlzYWJsZV9mb2xsb3cgPSBhY2NvdW50LmdldCgiZGlzYWJsZV9mb2xsb3ciLCBGYWxzZSkKICAgICAgICBmb2xsb3dfZGlzYWJsZV91bnRpbCA9IGFjY291bnQuZ2V0KCJmb2xsb3dfZGlzYWJsZV91bnRpbCIsIDApCiAgICAgICAgbm93ID0gaW50KHRpbWUudGltZSgpKQogICAgICAgIAogICAgICAgIHByaW50KGYiVmFsaWRhdGUgZm9sbG93IGpvYiBjaG8ge3VzZXJuYW1lfTogZGlzYWJsZV9mb2xsb3c9e2Rpc2FibGVfZm9sbG93fSwgZm9sbG93X2Rpc2FibGVfdW50aWw9e2ZvbGxvd19kaXNhYmxlX3VudGlsfSwgbm93PXtub3d9IikKICAgICAgICAKICAgICAgICBpZiBkaXNhYmxlX2ZvbGxvdzoKICAgICAgICAgICAgIyBLaeG7g20gdHJhIHhlbSB0aOG7nWkgZ2lhbiBkaXNhYmxlIMSRw6MgaOG6v3QgY2jGsGEKICAgICAgICAgICAgaWYgZm9sbG93X2Rpc2FibGVfdW50aWwgPiAwIGFuZCBmb2xsb3dfZGlzYWJsZV91bnRpbCA8PSBub3c6CiAgICAgICAgICAgICAgICBwcmludChmIlRo4budaSBnaWFuIGRpc2FibGUgxJHDoyBo4bq/dCBjaG8ge3VzZXJuYW1lfSwgc+G6vSBlbmFibGUgbOG6oWkiKQogICAgICAgICAgICAgICAgIyBUcm9uZyB0aOG7sWMgdOG6vyBz4bq9IGfhu41pIGRiLmVuYWJsZV9hY2NvdW50X2ZvbGxvdwogICAgICAgICAgICAgICAgcmV0dXJuIFRydWUsICJFbmFibGVkIGFmdGVyIHRpbWVvdXQiCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICByZW1haW5pbmdfbWludXRlcyA9IGludCgoZm9sbG93X2Rpc2FibGVfdW50aWwgLSBub3cpIC8gNjApIGlmIGZvbGxvd19kaXNhYmxlX3VudGlsID4gbm93IGVsc2UgMAogICAgICAgICAgICAgICAgcmV0dXJuIEZhbHNlLCBmIlTDoGkga2hv4bqjbiB7dXNlcm5hbWV9IGLhu4sgZGlzYWJsZSBmb2xsb3cgY8OybiB7cmVtYWluaW5nX21pbnV0ZXN9IHBow7p0IgogICAgICAgIAogICAgICAgIHJldHVybiBUcnVlLCAiVmFsaWQiCiAgICAKICAgICMgVGVzdCBkYXRhCiAgICBjdXJyZW50X3RpbWUgPSBpbnQodGltZS50aW1lKCkpCiAgICAKICAgIHRlc3RfY2FzZXMgPSBbCiAgICAgICAgewogICAgICAgICAgICAibmFtZSI6ICJBY2NvdW50IGRpc2FibGVkIHdpdGggZnV0dXJlIHRpbWVvdXQiLAogICAgICAgICAgICAiYWNjb3VudCI6IHsKICAgICAgICAgICAgICAgICJpZCI6IDEsCiAgICAgICAgICAgICAgICAidW5pcXVlX3VzZXJuYW1lIjogInRlc3QxIiwKICAgICAgICAgICAgICAgICJqb2JfZW5hYmxlIjogVHJ1ZSwKICAgICAgICAgICAgICAgICJkaXNhYmxlX2ZvbGxvdyI6IFRydWUsCiAgICAgICAgICAgICAgICAiZm9sbG93X2Rpc2FibGVfdW50aWwiOiBjdXJyZW50X3RpbWUgKyAzNjAwLCAgIyAxIGdp4budIG7hu69hCiAgICAgICAgICAgICAgICAiaW5hY3RpdmVfZm9sbG93X3JlYXNvbiI6ICJC4buLIHVuZm9sbG93IDMgbOG6p24iCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJleHBlY3RlZCI6IEZhbHNlCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAgICJuYW1lIjogIkFjY291bnQgZGlzYWJsZWQgd2l0aCBleHBpcmVkIHRpbWVvdXQiLAogICAgICAgICAgICAiYWNjb3VudCI6IHsKICAgICAgICAgICAgICAgICJpZCI6IDIsCiAgICAgICAgICAgICAgICAidW5pcXVlX3VzZXJuYW1lIjogInRlc3QyIiwgCiAgICAgICAgICAgICAgICAiam9iX2VuYWJsZSI6IFRydWUsCiAgICAgICAgICAgICAgICAiZGlzYWJsZV9mb2xsb3ciOiBUcnVlLAogICAgICAgICAgICAgICAgImZvbGxvd19kaXNhYmxlX3VudGlsIjogY3VycmVudF90aW1lIC0gMzYwMCwgICMgMSBnaeG7nSB0csaw4bubYwogICAgICAgICAgICAgICAgImluYWN0aXZlX2ZvbGxvd19yZWFzb24iOiAiQuG7iyB1bmZvbGxvdyAzIGzhuqduIgogICAgICAgICAgICB9LAogICAgICAgICAgICAiZXhwZWN0ZWQiOiBUcnVlCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAgICJuYW1lIjogIkFjY291bnQgYWN0aXZlIiwKICAgICAgICAgICAgImFjY291bnQiOiB7CiAgICAgICAgICAgICAgICAiaWQiOiAzLAogICAgICAgICAgICAgICAgInVuaXF1ZV91c2VybmFtZSI6ICJ0ZXN0MyIsCiAgICAgICAgICAgICAgICAiam9iX2VuYWJsZSI6IFRydWUsCiAgICAgICAgICAgICAgICAiZGlzYWJsZV9mb2xsb3ciOiBGYWxzZSwKICAgICAgICAgICAgICAgICJmb2xsb3dfZGlzYWJsZV91bnRpbCI6IDAKICAgICAgICAgICAgfSwKICAgICAgICAgICAgImV4cGVjdGVkIjogVHJ1ZQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgICAibmFtZSI6ICJBY2NvdW50IHdpdGggam9iX2VuYWJsZT1GYWxzZSIsCiAgICAgICAgICAgICJhY2NvdW50IjogewogICAgICAgICAgICAgICAgImlkIjogNCwKICAgICAgICAgICAgICAgICJ1bmlxdWVfdXNlcm5hbWUiOiAidGVzdDQiLAogICAgICAgICAgICAgICAgImpvYl9lbmFibGUiOiBGYWxzZSwKICAgICAgICAgICAgICAgICJkaXNhYmxlX2ZvbGxvdyI6IEZhbHNlLAogICAgICAgICAgICAgICAgImZvbGxvd19kaXNhYmxlX3VudGlsIjogMAogICAgICAgICAgICB9LAogICAgICAgICAgICAiZXhwZWN0ZWQiOiBGYWxzZQogICAgICAgIH0KICAgIF0KICAgIAogICAgcHJpbnQoIlRlc3RpbmcgZm9sbG93IGpvYiB2YWxpZGF0aW9uIGxvZ2ljOlxuIikKICAgIAogICAgZm9yIGksIHRlc3RfY2FzZSBpbiBlbnVtZXJhdGUodGVzdF9jYXNlcywgMSk6CiAgICAgICAgcHJpbnQoZiJUZXN0IHtpfToge3Rlc3RfY2FzZVsnbmFtZSddfSIpCiAgICAgICAgYWNjb3VudCA9IHRlc3RfY2FzZVsiYWNjb3VudCJdCiAgICAgICAgZXhwZWN0ZWQgPSB0ZXN0X2Nhc2VbImV4cGVjdGVkIl0KICAgICAgICAKICAgICAgICBqb2IgPSB7ImlkIjogaSwgImpvYl90eXBlIjogImZvbGxvdyIsICJvYmplY3RfaWQiOiAidGVzdF90YXJnZXQifQogICAgICAgIAogICAgICAgIGlzX3ZhbGlkLCByZWFzb24gPSB2YWxpZGF0ZV9mb2xsb3dfam9iKGFjY291bnQsIGpvYikKICAgICAgICAKICAgICAgICBwcmludChmIiAgUmVzdWx0OiB7aXNfdmFsaWR9IC0ge3JlYXNvbn0iKQogICAgICAgIAogICAgICAgIGlmIGlzX3ZhbGlkID09IGV4cGVjdGVkOgogICAgICAgICAgICBwcmludChmIiAg4pyFIFBBU1MiKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHByaW50KGYiICDinYwgRkFJTDogRXhwZWN0ZWQge2V4cGVjdGVkfSwgZ290IHtpc192YWxpZH0iKQogICAgICAgIAogICAgICAgIHByaW50KCkKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICB0ZXN0X2ZvbGxvd192YWxpZGF0aW9uX2xvZ2ljKCkK').decode('utf-8'))
